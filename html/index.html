<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visualisation data-gouv.fr</title>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../librairies/virtual-select-master/dist/virtual-select.min.css" />
    <script src="../librairies/virtual-select-master/dist/virtual-select.min.js"></script>
    <link rel="stylesheet" href="../css/loader.css">

	
    <script type="text/javascript" src="https://germini.info/js/jqvmap/jquery.vmap.js"></script>
    <script type="text/javascript" src="https://germini.info/js/jqvmap/maps/jquery.vmap.france.js" charset="utf-8"></script>
    <script>
      jQuery(document).ready(function () {
        jQuery('#vmap').vectorMap({
          map: 'france_fr',
	     backgroundColor: '#ffffff',
		borderColor: '#000000',
		borderOpacity: 0.25,
		borderWidth: 1,
		color: '#f4f3f0',
		enableZoom: true,
		hoverColor: '#c9dfaf',
		hoverOpacity: null,
		normalizeFunction: 'linear',
		scaleColors: ['#b6d6ff', '#005ace'],
		selectedColor: '#c9dfaf',
		selectedRegions: null,
		showTooltip: true,
        onRegionClick: function(element, code, region)
        {
		console.log(element);
			chars = code.replace('fr-','');
			chars = Number(chars);
			$("#select_dep").val(chars);
			$( "#select_dep" ).trigger('change');
        }
		});	
      });
    </script>


</head>
<body>
    <div id="text_pres">
        <p>Ce site récupère les données concernant la Covid-19 en France.<br>
            Ces données sont délivrées librement par le gouvernement (data-gouv.fr).<br>
            Nous exploitons ces données via l'API développée par Florian Zemma : <a href="https://github.com/florianzemma/CoronavirusAPI-France">Lien du Github de l'API</a></p>
    </div>
    <div id="covid_now_table">
        <div class="affichage_data">
            <div id="affichage_date">
                <h1>Données à la date : <h1 id="date_donnees"></h1>
                </h1>
            </div>
            <div id="affichage_dep">
                <h2>Données pour : 
                    <h2 id="region">
                    <h2>-</h2>
                    <h2 id="dep">
                </h2>
            </div>
        </div>
        
        <div id="tabAndMap">
            <table>
                <caption>Données liées à la Covid-19 en Côte-d'or</caption>
                <tr>
                    <th scope="col">Libellé des données</th>
                    <th scope="col">Valeurs</th>
                </tr>
                <tr>
                    <th scope="row">Réanimations</th>
                    <td id="v1"></td>
                </tr>
                <tr>
                    <th scope="row">Hospitalisations</th>
                    <td id="v2"></td>
                </tr>
                <tr>
                    <th scope="row">Retours à domicile</th>
                    <td id="v3"></td>
                </tr>
                <tr>
                    <th scope="row">Décès à l'hopital</th>
                    <td id="v4"></td>
                </tr>
            </table>
            <div id="vmap"></div>
        </div>
        
    </div>

    <div class="selectors">
        <div class="formfield-select">
            <label for="select_dep">Choisir un département</label>
            <div class="formfield-select--container">
                <select id="select_dep">
                    <option value="0">1 - Ain</option> 
                    <option value="1">2 - Aisne</option> 
                    <option value="2">3 - Allier</option> 
                    <option value="3">4 - Alpes-de-Haute-Provence</option> 
                    <option value="4">5 - Hautes-Alpes</option> 
                    <option value="5">6 - Alpes-Maritimes</option> 
                    <option value="6">7 - Ardèche</option> 
                    <option value="7">8 - Ardennes</option> 
                    <option value="8">9 - Ariège</option> 
                    <option value="9">10 - Aube</option> 
                    <option value="10">11 - Aude</option> 
                    <option value="11">12 - Aveyron</option> 
                    <option value="12">13 - Bouches-du-Rhône</option> 
                    <option value="13">14 - Calvados</option> 
                    <option value="14">15 - Cantal</option> 
                    <option value="15">16 - Charente</option> 
                    <option value="16">17 - Charente-Maritime</option> 
                    <option value="17">18 - Cher</option> 
                    <option value="18">19 - Corrèze</option> 
                    <option value="19">21 - Côte-d'Or</option> 
                    <option value="20">22 - Côtes-d'Armor</option> 
                    <option value="21">23 - Creuse</option> 
                    <option value="22">24 - Dordogne</option> 
                    <option value="23">25 - Doubs</option> 
                    <option value="24">26 - Drôme</option> 
                    <option value="25">27 - Eure</option> 
                    <option value="26">28 - Eure-et-Loir</option> 
                    <option value="27">29 - Finistère</option> 
                    <option value="28">2A - Corse-du-Sud</option> 
                    <option value="29">2B - Haute-Corse</option> 
                    <option value="30">30 - Gard</option> 
                    <option value="31">31 - Haute-Garonne</option> 
                    <option value="32">32 - Gers</option> 
                    <option value="33">33 - Gironde</option> 
                    <option value="34">34 - Hérault</option> 
                    <option value="35">35 - Ille-et-Vilaine</option> 
                    <option value="36">36 - Indre</option> 
                    <option value="37">37 - Indre-et-Loire</option> 
                    <option value="38">38 - Isère</option> 
                    <option value="39">39 - Jura</option> 
                    <option value="40">40 - Landes</option> 
                    <option value="41">41 - Loir-et-Cher</option> 
                    <option value="42">42 - Loire</option> 
                    <option value="43">43 - Haute-Loire</option> 
                    <option value="44">44 - Loire-Atlantique</option> 
                    <option value="45">45 - Loiret</option> 
                    <option value="46">46 - Lot</option> 
                    <option value="47">47 - Lot-et-Garonne</option> 
                    <option value="48">48 - Lozère</option> 
                    <option value="49">49 - Maine-et-Loire</option> 
                    <option value="50">50 - Manche</option> 
                    <option value="51">51 - Marne</option> 
                    <option value="52">52 - Haute-Marne</option> 
                    <option value="53">53 - Mayenne</option> 
                    <option value="54">54 - Meurthe-et-Moselle</option> 
                    <option value="55">55 - Meuse</option> 
                    <option value="56">56 - Morbihan</option> 
                    <option value="57">57 - Moselle</option> 
                    <option value="58">58 - Nièvre</option> 
                    <option value="59">59 - Nord</option> 
                    <option value="60">60 - Oise</option> 
                    <option value="61">61 - Orne</option> 
                    <option value="62">62 - Pas-de-Calais</option> 
                    <option value="63">63 - Puy-de-Dôme</option> 
                    <option value="64">64 - Pyrénées-Atlantiques</option> 
                    <option value="65">65 - Hautes-Pyrénées</option> 
                    <option value="66">66 - Pyrénées-Orientales</option> 
                    <option value="67">67 - Bas-Rhin</option> 
                    <option value="68">68 - Haut-Rhin</option> 
                    <option value="69">69 - Rhône</option> 
                    <option value="70">70 - Haute-Saône</option> 
                    <option value="71">71 - Saône-et-Loire</option> 
                    <option value="72">72 - Sarthe</option> 
                    <option value="73">73 - Savoie</option> 
                    <option value="74">74 - Haute-Savoie</option> 
                    <option value="75">75 - Paris</option> 
                    <option value="76">76 - Seine-Maritime</option> 
                    <option value="77">77 - Seine-et-Marne</option> 
                    <option value="78">78 - Yvelines</option> 
                    <option value="79">79 - Deux-Sèvres</option> 
                    <option value="80">80 - Somme</option> 
                    <option value="81">81 - Tarn</option> 
                    <option value="82">82 - Tarn-et-Garonne</option> 
                    <option value="83">83 - Var</option> 
                    <option value="84">84 - Vaucluse</option> 
                    <option value="85">85 - Vendée</option> 
                    <option value="86">86 - Vienne</option> 
                    <option value="87">87 - Haute-Vienne</option> 
                    <option value="88">88 - Vosges</option> 
                    <option value="89">89 - Yonne</option> 
                    <option value="90">90 - Territoire de Belfort</option> 
                    <option value="91">91 - Essonne</option> 
                    <option value="92">92 - Hauts-de-Seine</option> 
                    <option value="93">93 - Seine-Saint-Denis</option> 
                    <option value="94">94 - Val-de-Marne</option> 
                    <option value="95">95 - Val-d'Oise</option> 
                    <option value="96">971 - Guadeloupe</option> 
                    <option value="97">972 - Martinique</option> 
                    <option value="98">973 - Guyane</option> 
                    <option value="99">974 - La Réunion</option> 
                    <option value="100">976 - Mayotte</option> 
                </select>
            </div>
        </div>
        <div class="formfield-select">
            <label for="multiple-select">Choisir des données à afficher dans le graph</label>
            <div  id="multiple-select"></div>
        </div>
    </div>
    <div class="select_period">
        <button id="1sem">7 Jours</button>
        <button id="15j">15 Jours</button>
        <button id="1m">1 Mois</button>
    </div>
    <div class="parent">
        <div id="graph-container">
            <canvas id="results-graph"></canvas>
        </div>
        <div class='loader'>
            <div class='loader_cogs'>
              <div class='COGfirst'>
                <div class='firstPart'></div>
                <div class='firstPart'></div>
                <div class='firstPart'></div>
                <div class='firstHole'></div>
              </div>
              <div class='COGsecond'>
                <div class='secondPart'></div>
                <div class='secondPart'></div>
                <div class='secondPart'></div>
                <div class='secondHole'></div>
              </div>
              <div class='COGthird'>
                <div class='thirdPart'></div>
                <div class='thirdPart'></div>
                <div class='thirdPart'></div>
                <div class='thirdHole'></div>
              </div>
              <p>loading..</p>
            </div>
          </div>
    </div>
    
      
</body>
    <script type="text/javascript" src="../data/listDep.js"></script>
    <script type="text/javascript" src="../js/script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="text/javascript" src="../js/chart.js"></script>
    <script type="text/javascript" src="../js/selector.js"></script>
</html>